SELECT
  (COUNT(*) FILTER (WHERE dominio = 'ambiental')  > 0) AS ambiental_has,
  (COUNT(*) FILTER (WHERE dominio = 'economico')  > 0) AS economico_has,
  (COUNT(*) FILTER (WHERE dominio = 'social')     > 0) AS social_has
FROM respostas
WHERE id_utilizador = '{{ appsmith.store.autenticacao.nif }}'
  AND (
    {{ Select_year.selectedOptionValue === "" }}
    OR ano = '{{ Select_year.selectedOptionValue }}'
  )
  AND dominio IN ('ambiental', 'economico', 'social');